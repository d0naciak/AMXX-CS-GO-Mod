/* Plugin generated by AMXX-Studio */

#include <amxmodx>
#include <csgo>

	
native csgo_open_myskins(id);
native csgo_open_skinslist(id);
native csgo_open_mycrates(id);
native csgo_open_crateslist(id);
native csgo_buy_key(id);
native csgo_open_missions(id);
native csgo_open_open_missions(id);
native csgo_open_rankslist(id);
native csgo_open_help(id);
native csgo_open_commands(id);
native csgo_open_trade(id);
	
public plugin_init() {
	register_plugin("CSGO Mod: Menu", "1.0", "donaciak.pl");
	
	register_clcmd("say /menu", "cmd_Menu");
	register_clcmd("say /skiny", "cmd_Skiny");
	register_clcmd("say /skrzynki", "cmd_SkrzynkiKlucze");
	register_clcmd("say /klucze", "cmd_SkrzynkiKlucze");
}

public cmd_Menu(id) {
	new iMenu = menu_create("Glowne menu^nCS:GO by d0naciak.pl", "Menu_Handler");
	
	menu_additem(iMenu, "Rangi");
	menu_additem(iMenu, "Misje^n");
	menu_additem(iMenu, "Skiny");
	menu_additem(iMenu, "Skrzynki \r& \wKlucze");
	menu_additem(iMenu, "Wymiana^n");
	menu_additem(iMenu, "\rPomoc");
	menu_additem(iMenu, "\rKomendy");
	
	menu_translatetopolish(iMenu);
	menu_display(id, iMenu);
	return PLUGIN_HANDLED;
}

public Menu_Handler(id, iMenu, iItem) {
	switch(iItem) {
		case 0: csgo_open_rankslist(id);
			case 1: csgo_open_missions(id);
			case 2: cmd_Skiny(id);
			case 3: cmd_SkrzynkiKlucze(id);
			case 4: csgo_open_trade(id);
			case 5: csgo_open_help(id);
			case 6: csgo_open_commands(id);
		}
	
	menu_destroy(iMenu);
}

public cmd_Skiny(id) { 
	new iMenu = menu_create("Skiny", "Skiny_Handler");
	
	menu_additem(iMenu, "Moje skiny");
	menu_additem(iMenu, "Lista skinow");
	//menu_additem(iMenu, "Lista \rskinow \ypremium");
	
	menu_translatetopolish(iMenu);
	menu_display(id, iMenu);
	return PLUGIN_HANDLED;
}

public Skiny_Handler(id, iMenu, iItem) {
	switch(iItem) {
		case 0: csgo_open_myskins(id);
		case 1: csgo_open_skinslist(id);
		//case 2: csgo_open_premiumskinslist(id);
	}
	
	menu_destroy(iMenu);
}

public cmd_SkrzynkiKlucze(id) {
	new iMenu = menu_create("Skrzynki & Klucze", "SkrzynkiKlucze_Handler");
	new szItem[128];
	
	menu_additem(iMenu, "Sprawdz swoje \yskrzynki");
	menu_additem(iMenu, "Lista \yskrzynek^n");
	formatex(szItem, 127, "Kup \yklucz do skrzynki \d(posiadasz \r%d szt.\d)", csgo_get_user_keys(id));
	menu_additem(iMenu, szItem);
	
	menu_translatetopolish(iMenu);
	menu_display(id, iMenu);
	return PLUGIN_HANDLED;
}

public SkrzynkiKlucze_Handler(id, iMenu, iItem) {
	switch(iItem) {
		case 0: csgo_open_mycrates(id);
		case 1: csgo_open_crateslist(id);
		case 2: csgo_buy_key(id);
	}
	
	menu_destroy(iMenu);
}

stock menu_translatetopolish(iMenu) {
	menu_setprop(iMenu, MPROP_BACKNAME, "Cofnij");
	menu_setprop(iMenu, MPROP_NEXTNAME, "Dalej");
	menu_setprop(iMenu, MPROP_EXITNAME, "Wyjscie");
}
